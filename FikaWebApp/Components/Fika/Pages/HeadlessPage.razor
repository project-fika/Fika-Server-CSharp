@page "/Fika/Manage/Headless"

@using FikaShared

<MudLoading Loading="_loading" Darken="true" Overlap="true" Text="Waiting for server...">
	<MudDataGrid Items="_headlessClients" Breakpoint="Breakpoint.None" RowsPerPage="10" SortMode="SortMode.Single">
		<Columns>
			<PropertyColumn Property="p => p.ProfileId" />
			<PropertyColumn Property="p => p.Nickname" />
			<PropertyColumn Property="p => p.State" />
			<PropertyColumn Property="p => p.Players" />
			<TemplateColumn>
				<CellTemplate Context="row">
					<MudButton Variant="Variant.Filled" Color="Color.Primary" Disabled="@(row.Item.State is Enums.EHeadlessState.NotReady)" OnClick="@(() => RestartHeadless(row.Item))">Restart</MudButton>
				</CellTemplate>
			</TemplateColumn>
		</Columns>
		<PagerContent>
			<MudDataGridPager T="OnlineHeadless"/>
		</PagerContent>
	</MudDataGrid>
</MudLoading>